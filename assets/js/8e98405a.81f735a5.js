"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[409],{167:function(e,t,a){a.d(t,{Zo:function(){return p},kt:function(){return u}});var n=a(3289);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var s=n.createContext({}),d=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},p=function(e){var t=d(e.components);return n.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),m=d(a),u=i,k=m["".concat(s,".").concat(u)]||m[u]||c[u]||r;return a?n.createElement(k,o(o({ref:t},p),{},{components:a})):n.createElement(k,o({ref:t},p))}));function u(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=a.length,o=new Array(r);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var d=2;d<r;d++)o[d]=a[d];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},212:function(e,t,a){a.r(t),a.d(t,{assets:function(){return p},contentTitle:function(){return s},default:function(){return u},frontMatter:function(){return l},metadata:function(){return d},toc:function(){return c}});var n=a(3830),i=a(2056),r=(a(3289),a(167)),o=["components"],l={title:"Kilowatt Crackdown",description:"Overview of tasks to do for Kilowatt Crackdown"},s=void 0,d={unversionedId:"kilowatt_crackdown",id:"kilowatt_crackdown",title:"Kilowatt Crackdown",description:"Overview of tasks to do for Kilowatt Crackdown",source:"@site/docs/kilowatt_crackdown.md",sourceDirName:".",slug:"/kilowatt_crackdown",permalink:"/docs/kilowatt_crackdown",draft:!1,editUrl:"https://github.com/OSU-Sustainability-Office/osu-sustainability-office.github.io/edit/main/website/docs/kilowatt_crackdown.md",tags:[],version:"current",frontMatter:{title:"Kilowatt Crackdown",description:"Overview of tasks to do for Kilowatt Crackdown"},sidebar:"Docusaurus",previous:{title:"Adding Meters / Buildings",permalink:"/docs/adding_meters_buildings"},next:{title:"OpenSSL",permalink:"/docs/openssl"}},p={},c=[{value:"Overview",id:"overview",level:2},{value:"AWS S3",id:"aws-s3",level:2},{value:"Testing",id:"testing",level:2}],m={toc:c};function u(e){var t=e.components,a=(0,i.Z)(e,o);return(0,r.kt)("wrapper",(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Recurring Task"),": You have to create a kilowatt campaign (with coordination from Lety as noted below), debug any errors that may appear"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Frequency"),": Once a year")))),(0,r.kt)("h2",{id:"overview"},"Overview"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Add item to ",(0,r.kt)("inlineCode",{parentName:"li"},"campaigns")," table as per notice from Lety on what residential buildings will particpate in Kilowatt Crackdown this year. Pay attention to:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"date_start")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"date_end"),". These denote when the Kilwatt Crackdown will take place. Ensure the meter data between these dates is valid"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"compare_start")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"compare_end"),". These define a time period that the Kilowatt Campaign is compared to in order to calculate changes in energy efficiency for residential halls. Again, ensure the meter data here is valid before proceeding",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Ask Lety for the comparison dates, she will have an idea"),(0,r.kt)("li",{parentName:"ul"},"If meter data is missing for either time period, inform Lety ASAP and try to find workarounds"),(0,r.kt)("li",{parentName:"ul"},"In a pinch, the dashboard has been adjusted to handle manual meter uploads for halls without automated meter data uploads. See 2022 campaign and Weatherford Hall"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"media")," value (campaign banner image). If you are re-using an existing banner image, then just copy the value for the ",(0,r.kt)("inlineCode",{parentName:"li"},"media")," from another year's campaign. If you have a new campaign banner image, see ",(0,r.kt)("a",{parentName:"li",href:"kilowatt_crackdown#aws-s3"},"AWS S3 section below")," for what to do."))),(0,r.kt)("li",{parentName:"ul"},"Add items to ",(0,r.kt)("inlineCode",{parentName:"li"},"campaign_groups"),". the ",(0,r.kt)("inlineCode",{parentName:"li"},"groups")," value denotes the ",(0,r.kt)("inlineCode",{parentName:"li"},"meter group")," value for the building you want. In some cases (as seen in ",(0,r.kt)("inlineCode",{parentName:"li"},"meter_group_relation"),"), there are several meter groups for a given building. In such cases, test the campaign graph locally (see below), and if multiple are valid, then just pick one")),(0,r.kt)("h2",{id:"aws-s3"},"AWS S3"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Only applicable if adding a new campaign banner image")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Go to AWS Web Console > S3 > Buckets > osu-energy-images"),(0,r.kt)("li",{parentName:"ul"},"Upload image of the newly added campaign banner"),(0,r.kt)("li",{parentName:"ul"},"Upload 1 picture to root directory of osu-energy-images"),(0,r.kt)("li",{parentName:"ul"},"Crop image for thumbnail with ",(0,r.kt)("a",{parentName:"li",href:"https://imageresizer.com/crop-image"},"https://imageresizer.com/crop-image"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Set width as ",(0,r.kt)("strong",{parentName:"li"},"400px"),", and then leave height as it was in the original image"),(0,r.kt)("li",{parentName:"ul"},"Upload cropped image to ",(0,r.kt)("inlineCode",{parentName:"li"},"thumbnails")," directory of osu-energy-images"))),(0,r.kt)("li",{parentName:"ul"},"Click on uploaded image in ",(0,r.kt)("inlineCode",{parentName:"li"},"S3 bucket")," > ",(0,r.kt)("inlineCode",{parentName:"li"},"Permissions")," > ",(0,r.kt)("inlineCode",{parentName:"li"},"Everyone(public access)")," > ",(0,r.kt)("inlineCode",{parentName:"li"},"Object")," > change to ",(0,r.kt)("inlineCode",{parentName:"li"},"Read")),(0,r.kt)("li",{parentName:"ul"},"Go back and make sure the file name of the image you uploaded matches the image filename as listed in ",(0,r.kt)("inlineCode",{parentName:"li"},"campaigns")," table in the SQL database as seen in ",(0,r.kt)("a",{parentName:"li",href:"adding_meters_buildings#MySQL-Workbench"},"MySQL Workbench"))),(0,r.kt)("h2",{id:"testing"},"Testing"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},'Any campaign with a name starting with "test" will not be shown on the production version of the energy dashboard, only on local'),(0,r.kt)("li",{parentName:"ul"},"This will ensure ease in testing if certain meter groups are valid for the desired time period, without breaking the production version"),(0,r.kt)("li",{parentName:"ul"},"Test Kilowatt Crackdown graph both locally and by going to Inspect Element > Network > check API request (e.g. ",(0,r.kt)("inlineCode",{parentName:"li"},"data?id=<buildingID>&startDate=<StartDate>..."),") and see what is in the payload. Empty payloads or error codes in the request (e.g. 404) indicate missing data and the meter group should not be used")))}u.isMDXComponent=!0}}]);